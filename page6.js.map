{"version":3,"file":"page6.js","sources":["../src/js/page_6.js"],"sourcesContent":["console.log('a');\n\nconst horses = [\n    'Secretariat',\n    'Eclipse',\n    'West Australian',\n    'Flying Fox',\n    'Seabiscuit',\n];\n  \nconst refs = {\n  startBtn: document.querySelector('.js-start-race'),\n  winnerFiel: document.querySelector('.js-winner'),\n  progressField: document.querySelector('.js-progress'),\n  tableBody: document.querySelector('.js-results-table > tbody'),\n};\nlet raceCounter = 0;\n// console.log(refs.startBtn);\n// console.log(refs.winnerFiel);\n// console.log(refs.progressField);\n// console.log(refs.tableBody);\n\nrefs.startBtn.addEventListener('click', () => {\n  raceCounter += 1;\n  const promises = horses.map(run);\n  // refs.winnerFiel.textContent = '';\n  updateWinnerField('');\n  // refs.progressField.textContent = 'Заезд начался! Ставки не принимаются!';\n  updateProgressField('Заезд начался! Ставки не принимаются!');\n\n  Promise.race(promises).then(({ horse, time }) => {\n  console.log(\n    `%c Победил: ${horse}, финишировав за: ${time} времени`,\n    'color: green; font-size: 14px; font-weight: bold;'\n    )\n    // refs.winnerFiel.textContent = `Победил: ${horse}, финишировав за: ${time} времени`;\n    updateProgressField(`Победил: ${horse}, финишировав за: ${time} времени`);\n    updateResultsTable({ horse, time, raceCounter });\n\n});\n  Promise.all(promises).then(x => {\n    console.log(x);\n    // refs.progressField.textContent = `Заезд окончен! Принимаются ставки`;\n    updateProgressField(`Заезд окончен! Принимаются ставки`)\n    \n  });\n  \n});\n\nfunction run(horse) {\n  return new Promise((resolve, reject) => {\n    const time = getRandomTime(2000, 3500);\n\n    setTimeout(() => { \n        resolve({horse, time})\n    }, time)\n    \n  });\n};\n\nrun('Mango')\n  .then(x => console.log(x))\n  .catch(err => console.log(err));\n\n\n// console.log(promises);////// массив промисов\n// Promise.race(promises).then(({ horse, time }) => {\n//   console.log(\n//     `%c Победил: ${horse}, финишировав за: ${time} времени`,\n//     'color: green; font-size: 14px; font-weight: bold;'\n//   )\n// });\n// Promise.all(promises).then(x => {\n//   console.log(x);\n    \n// })\n\n//////The function returns a random number between the specified values.\nfunction getRandomTime(min, max) {\n    return Math.floor(Math.random() * (max - min + 1) + min);\n}\n// console.log(getRandomTime(1000, 2500));\n\nfunction updateWinnerField(massage){\n  refs.winnerFiel.textContent = massage;\n}\n\nfunction updateProgressField(massage){\n  refs.winnerFiel.textContent = massage;\n}\n\nfunction updateResultsTable({ horse, time, raceCounter }) {\n  const tr = `<tr><td>${raceCounter}</td><td>${horse}</td><td>${time}</td></tr>`;\n  refs.tableBody.insertAdjacentHTML('beforeend', tr);\n}"],"names":["horses","refs","raceCounter","promises","run","updateWinnerField","updateProgressField","horse","time","updateResultsTable","x","resolve","reject","getRandomTime","err","min","max","massage","tr"],"mappings":"oDAAA,QAAQ,IAAI,GAAG,EAEf,MAAMA,EAAS,CACX,cACA,UACA,kBACA,aACA,YACJ,EAEMC,EAAO,CACX,SAAU,SAAS,cAAc,gBAAgB,EACjD,WAAY,SAAS,cAAc,YAAY,EAC/C,cAAe,SAAS,cAAc,cAAc,EACpD,UAAW,SAAS,cAAc,2BAA2B,CAC/D,EACA,IAAIC,EAAc,EAMlBD,EAAK,SAAS,iBAAiB,QAAS,IAAM,CAC5CC,GAAe,EACf,MAAMC,EAAWH,EAAO,IAAII,CAAG,EAE/BC,EAAkB,EAAE,EAEpBC,EAAoB,uCAAuC,EAE3D,QAAQ,KAAKH,CAAQ,EAAE,KAAK,CAAC,CAAE,MAAAI,EAAO,KAAAC,KAAW,CACjD,QAAQ,IACN,eAAeD,CAAK,qBAAqBC,CAAI,WAC7C,mDACJ,EAEIF,EAAoB,YAAYC,CAAK,qBAAqBC,CAAI,UAAU,EACxEC,EAAmB,CAAE,MAAAF,EAAO,KAAAC,EAAM,YAAAN,CAAW,CAAE,CAEnD,CAAC,EACC,QAAQ,IAAIC,CAAQ,EAAE,KAAKO,GAAK,CAC9B,QAAQ,IAAIA,CAAC,EAEbJ,EAAoB,mCAAmC,CAE3D,CAAG,CAEH,CAAC,EAED,SAASF,EAAIG,EAAO,CAClB,OAAO,IAAI,QAAQ,CAACI,EAASC,IAAW,CACtC,MAAMJ,EAAOK,EAAc,IAAM,IAAI,EAErC,WAAW,IAAM,CACbF,EAAQ,CAAC,MAAAJ,EAAO,KAAAC,CAAI,CAAC,CAC7B,EAAOA,CAAI,CAEX,CAAG,CACH,CAEAJ,EAAI,OAAO,EACR,KAAKM,GAAK,QAAQ,IAAIA,CAAC,CAAC,EACxB,MAAMI,GAAO,QAAQ,IAAIA,CAAG,CAAC,EAgBhC,SAASD,EAAcE,EAAKC,EAAK,CAC7B,OAAO,KAAK,MAAM,KAAK,OAAM,GAAMA,EAAMD,EAAM,GAAKA,CAAG,CAC3D,CAGA,SAASV,EAAkBY,EAAQ,CACjChB,EAAK,WAAW,YAAcgB,CAChC,CAEA,SAASX,EAAoBW,EAAQ,CACnChB,EAAK,WAAW,YAAcgB,CAChC,CAEA,SAASR,EAAmB,CAAE,MAAAF,EAAO,KAAAC,EAAM,YAAAN,CAAW,EAAI,CACxD,MAAMgB,EAAK,WAAWhB,CAAW,YAAYK,CAAK,YAAYC,CAAI,aAClEP,EAAK,UAAU,mBAAmB,YAAaiB,CAAE,CACnD"}