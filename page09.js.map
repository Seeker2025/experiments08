{"version":3,"file":"page09.js","sources":["../src/js/page_09.js"],"sourcesContent":["console.log('09');\n\nconst start = document.querySelector('.js-start');\nconst container = document.querySelector('.js-container');\n\nstart.addEventListener('click', onStart);\n// console.log(container.children);\n\nfunction onStart() {\n    const result = [];\n    // console.dir(container);\n    [...container.children].forEach((box ) => {box.textContent = \"\"});\n    [...container.children].forEach((box, i) => {\n        creationPromise(i)\n        .then((smile)=>{\n            box.textContent = smile;\n            result.push('1');\n        })\n        .catch((smile)=>box.textContent=smile)\n        .finally(()=>{\n            setTimeout(()=>{\n                if(i === container.children.length - 1){\n                    if(!result.length || result.length === 3){\n                        alert('Winner!');\n                    }\n                    else{\n                        alert('Lost money');\n                    }\n                }\n            }, 500)\n         })\n});\n}\n\nfunction creationPromise(deley) {\n    return new Promise((res, rej) => {\n        setTimeout(() => {\n            const random = Math.random();\n            if(random > .7){\n                res(\"ðŸ¤‘\");\n            }\n            else{\n                rej(\"ðŸ˜ˆ\");\n            }\n        }, 1000 * deley);\n     \n    })\n}\n\n\n\n\n// function onStart() {\n//     let counter = 0;\n//     const result = [];\n//     // console.dir(container);\n//     [...container.children].forEach((box ) => {box.textContent = \"\"});\n//     const promises = [...container.children].map((_, i) => creationPromise(i));\n//     // console.log(promises);\n//     Promise.allSettled(promises)\n//     .then(items =>{\n//         items.forEach((item, i)=>{\n//             console.log(item);\n//             setTimeout(()=>{\n//                 if(item.status === \"fulfilled\"){\n//                     counter += 1;\n//                 }\n//                 container.children[i].textContent=item.value || item.reason;\n                   \n//                 if(container.children.length - 1 === i){\n//                     setTimeout(()=>{\n//                         if(counter === container.children.length || !counter){\n//                             alert(\"Winner!\");\n//                         }\n//                         else{\n//                             alert(\"Lost money!\");\n//                         }\n//                     }, 500);\n//                   }\n//             }, i * 1000)\n//             // console.log(items);\n//         })\n\n// });\n// }\n\n\n// function creationPromise(deley) {\n//     return new Promise((res, rej) => {\n//         setTimeout(() => {\n//             const random = Math.random();\n//             if(random > .5){\n//                 res(\"ðŸ¤‘\");\n//             }\n//             else{\n//                 rej(\"ðŸ˜ˆ\");\n//             }\n//         }, 1000 * deley);\n     \n//     })\n// }"],"names":["start","container","onStart","result","box","i","creationPromise","smile","deley","res","rej"],"mappings":"oCAAA,QAAQ,IAAI,IAAI,EAEhB,MAAMA,EAAQ,SAAS,cAAc,WAAW,EAC1CC,EAAY,SAAS,cAAc,eAAe,EAExDD,EAAM,iBAAiB,QAASE,CAAO,EAGvC,SAASA,GAAU,CACf,MAAMC,EAAS,CAAE,EAEjB,CAAC,GAAGF,EAAU,QAAQ,EAAE,QAASG,GAAS,CAACA,EAAI,YAAc,EAAE,CAAC,EAChE,CAAC,GAAGH,EAAU,QAAQ,EAAE,QAAQ,CAACG,EAAKC,IAAM,CACxCC,EAAgBD,CAAC,EAChB,KAAME,GAAQ,CACXH,EAAI,YAAcG,EAClBJ,EAAO,KAAK,GAAG,CAClB,CAAA,EACA,MAAOI,GAAQH,EAAI,YAAYG,CAAK,EACpC,QAAQ,IAAI,CACT,WAAW,IAAI,CACRF,IAAMJ,EAAU,SAAS,OAAS,IAC9B,CAACE,EAAO,QAAUA,EAAO,SAAW,EACnC,MAAM,SAAS,EAGf,MAAM,YAAY,EAG1C,EAAe,GAAG,CACR,CAAA,CACV,CAAC,CACD,CAEA,SAASG,EAAgBE,EAAO,CAC5B,OAAO,IAAI,QAAQ,CAACC,EAAKC,IAAQ,CAC7B,WAAW,IAAM,CACE,KAAK,OAAQ,EAChB,GACRD,EAAI,IAAI,EAGRC,EAAI,IAAI,CAExB,EAAW,IAAOF,CAAK,CAElB,CAAA,CACL"}