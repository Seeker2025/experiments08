{"version":3,"file":"page4.js","sources":["../src/js/page_4.js"],"sourcesContent":["///// Timer\n\n// const date = new Date();\n// console.log('jast date', date);\n/*\nЮникс время - количество миллисекунд, прошедших с 1 января 1970 года\n*/\n// console.log('getDate()', date.getTime());\n// console.log('Date.now()', Date.now());\n\n// const date1 = Date.now();\n// console.log('jast date', date1);\n\n// setTimeout(() => {\n//     const date2 = Date.now();\n//     console.log('date1', date1);\n//     console.log('date2', date2);\n//     console.log(date2 - date1);\n// }, 3000);\n\nconst refs = {\n    startBtn: document.querySelector('button[data-action-start]'),\n    stopBtn: document.querySelector('button[data-action-stop]'),\n    clockface: document.querySelector('.js-clockface'),\n    \n};\n// console.log(refs.startBtn);\n// console.log(refs.stopBtn);\n// console.log(refs.clockface);\n\nclass Timer{\n    constructor({ onTick }) {\n        this.intervalId = null;\n        this.isActive = false;\n        this.onTick = onTick;\n        this.init();\n    }\n    init() {\n        const time = this.getTimeComponents(0);\n        this.onTick(time);\n    }\n\n    start() {\n        if(this.isActive) {\n        return\n        };\n            this.isActive = true;\n            const startTime = Date.now();\n\n            this.intervalId = setInterval(() => {\n            const currentTime = Date.now();\n            //    console.log('start -> startTime', startTime);\n            //    console.log('scurrent -> currentTime', currentTime); \n            //    console.log(currentTime - startTime);\n\n            const deltaTime = currentTime - startTime;\n            const { hours, mins, secs } = this.getTimeComponents(deltaTime);\n            console.log(`${hours}::${mins}::${secs}`);\n            // updateClockface({ hours, mins, secs });\n            this.onTick({ hours, mins, secs });\n        }, 1000);\n    }\n\n     stop() {\n        clearInterval(this.intervalId);\n        console.log(this.intervalId);\n        this.isActive = false;\n        const time = this.getTimeComponents(0);\n        this.onTick(time);\n    }\n/*\nФункция принимает время в миллисекундах и возвращает обьект с днями, часами, минутами и\nсекундами\n*/\n    getTimeComponents(time) {\n    const hours = this.pad(Math.floor((time % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60)));\n    const mins = this.pad(Math.floor((time % (1000 * 60 * 60)) / (1000 * 60)));\n    const secs = this.pad(Math.floor((time%(1000*60))/1000));\n    return { hours, mins, secs };\n    }\n/*\nФункция принимает число и возвращает строку с добавлением 0 перед числом\nесли число меньше 10\n*/    \n    pad(value) {\n    return String(value).padStart(2, '0');\n    }\n}\n\nconst timer = new Timer({\n    onTick: updateClockface,\n});\n\nrefs.startBtn.addEventListener('click', timer.start.bind(timer));\nrefs.stopBtn.addEventListener('click', timer.stop.bind(timer));\n\n////// Interface\n  function updateClockface({hours, mins, secs}) {\n    refs.clockface.textContent = `${hours}::${mins}::${secs}`;\n}  \n"],"names":["refs","Timer","onTick","time","startTime","deltaTime","hours","mins","secs","value","timer","updateClockface"],"mappings":"oCAoBA,MAAMA,EAAO,CACT,SAAU,SAAS,cAAc,2BAA2B,EAC5D,QAAS,SAAS,cAAc,0BAA0B,EAC1D,UAAW,SAAS,cAAc,eAAe,CAErD,EAKA,MAAMC,CAAK,CACP,YAAY,CAAE,OAAAC,GAAU,CACpB,KAAK,WAAa,KAClB,KAAK,SAAW,GAChB,KAAK,OAASA,EACd,KAAK,KAAM,CACnB,CACI,MAAO,CACH,MAAMC,EAAO,KAAK,kBAAkB,CAAC,EACrC,KAAK,OAAOA,CAAI,CACxB,CAEI,OAAQ,CACJ,GAAG,KAAK,SACR,OAEI,KAAK,SAAW,GAChB,MAAMC,EAAY,KAAK,IAAK,EAE5B,KAAK,WAAa,YAAY,IAAM,CAMpC,MAAMC,EALc,KAAK,IAAK,EAKED,EAC1B,CAAE,MAAAE,EAAO,KAAAC,EAAM,KAAAC,CAAM,EAAG,KAAK,kBAAkBH,CAAS,EAC9D,QAAQ,IAAI,GAAGC,CAAK,KAAKC,CAAI,KAAKC,CAAI,EAAE,EAExC,KAAK,OAAO,CAAE,MAAAF,EAAO,KAAAC,EAAM,KAAAC,CAAI,CAAE,CACpC,EAAE,GAAI,CACf,CAEK,MAAO,CACJ,cAAc,KAAK,UAAU,EAC7B,QAAQ,IAAI,KAAK,UAAU,EAC3B,KAAK,SAAW,GAChB,MAAML,EAAO,KAAK,kBAAkB,CAAC,EACrC,KAAK,OAAOA,CAAI,CACxB,CAKI,kBAAkBA,EAAM,CACxB,MAAMG,EAAQ,KAAK,IAAI,KAAK,MAAOH,EAAQ,MAAyB,IAAe,CAAC,EAC9EI,EAAO,KAAK,IAAI,KAAK,MAAOJ,GAAQ,IAAO,GAAK,KAAQ,IAAO,GAAG,CAAC,EACnEK,EAAO,KAAK,IAAI,KAAK,MAAOL,GAAM,IAAK,IAAK,GAAI,CAAC,EACvD,MAAO,CAAE,MAAAG,EAAO,KAAAC,EAAM,KAAAC,CAAM,CAChC,CAKI,IAAIC,EAAO,CACX,OAAO,OAAOA,CAAK,EAAE,SAAS,EAAG,GAAG,CACxC,CACA,CAEA,MAAMC,EAAQ,IAAIT,EAAM,CACpB,OAAQU,CACZ,CAAC,EAEDX,EAAK,SAAS,iBAAiB,QAASU,EAAM,MAAM,KAAKA,CAAK,CAAC,EAC/DV,EAAK,QAAQ,iBAAiB,QAASU,EAAM,KAAK,KAAKA,CAAK,CAAC,EAG3D,SAASC,EAAgB,CAAC,MAAAL,EAAO,KAAAC,EAAM,KAAAC,CAAI,EAAG,CAC5CR,EAAK,UAAU,YAAc,GAAGM,CAAK,KAAKC,CAAI,KAAKC,CAAI,EAC3D"}